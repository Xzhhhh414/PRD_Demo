:root{
  /* Light, clear style */
  --bg:#f7f9fc;
  --panel:#ffffff;
  --panel2:#f2f6ff;
  --text:#0f172a;
  --muted:#64748b;
  --brand:#00b894;
  --warn:#f59e0b;
  --danger:#ef4444;
  --ok:#16a34a;
  --border:rgba(15,23,42,.10);
  --shadow:0 10px 24px rgba(15,23,42,.08);
  --radius:16px;
  --radius2:12px;
  --max:520px;
  --safe: env(safe-area-inset-bottom, 0px);
  --safeTop: env(safe-area-inset-top, 0px);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(900px 500px at 10% -10%, rgba(0,184,148,.10), transparent 55%),
    radial-gradient(900px 500px at 90% 10%, rgba(59,130,246,.10), transparent 55%),
    var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "PingFang SC", "Microsoft YaHei", "Noto Sans CJK SC", Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

#app{min-height:100%; display:flex; flex-direction:column; align-items:center;}
.topbar{
  position:sticky; top:0; z-index:10;
  width:100%;
  backdrop-filter: blur(10px);
  background: rgba(247,249,252,.85);
  border-bottom:none;
  padding: calc(10px + var(--safeTop)) 14px 10px;
  display:flex; align-items:center; justify-content:center;
}
.topbar__title{
  width: min(var(--max), 100%);
  display:flex; align-items:center; justify-content:space-between;
  gap:10px;
}
.topbar__left{display:flex; align-items:center; gap:10px}
.brand{font-weight:800; letter-spacing:.2px; display:flex; align-items:baseline; gap:8px; line-height:1.15}
.subtitle{font-size:12px; color:var(--muted); margin-top:2px}
.subtitle--inline{margin-top:0; font-weight:650}

.icon-btn{
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  color:var(--text);
  border-radius:999px;
  padding:10px 12px;
  font-size:12px;
  cursor:pointer;
  min-height: 40px;
}
.icon-btn:active{transform: translateY(1px)}
.icon-btn--back{padding:10px 12px}
.icon-btn--sm{
  padding: 2px 8px;
  min-height: 26px;
  font-size: 11px;
  line-height: 1;
}

.main{
  width: min(var(--max), 100%);
  padding: 12px 12px calc(18px + var(--safe));
}

.card{
  background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.92));
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding: 14px;
  box-shadow: var(--shadow);
}
.card + .card{margin-top:12px}
.row{display:flex; gap:10px; align-items:center}
.col{display:flex; flex-direction:column; gap:6px}
.grow{flex:1}

.h1{font-size:20px; font-weight:800; letter-spacing:.2px; margin:0}
.h2{font-size:14px; font-weight:750; margin:0}
.muted{color:var(--muted)}
.small{font-size:12px}

.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding: 6px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  color: var(--muted);
  font-size:12px;
}
.pill--brand{color: var(--text); border-color: rgba(0,184,148,.30); background: rgba(0,184,148,.10)}
.pill--ok{color: var(--text); border-color: rgba(22,163,74,.25); background: rgba(22,163,74,.10)}
.pill--warn{color: var(--text); border-color: rgba(245,158,11,.26); background: rgba(245,158,11,.10)}
.pill--danger{color: var(--text); border-color: rgba(239,68,68,.26); background: rgba(239,68,68,.10)}

.btn{
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  color: var(--text);
  border-radius: 12px;
  padding: 10px 12px;
  font-size:13px;
  font-weight:650;
  cursor:pointer;
  min-height: 44px;
}
.btn:disabled{opacity:.45; cursor:not-allowed}
.btn:active{transform: translateY(1px)}
.btn--brand{
  border-color: rgba(0,184,148,.35);
  background: linear-gradient(180deg, rgba(0,184,148,.24), rgba(0,184,148,.10));
}
.btn--ghost{
  background: transparent;
}
.btn--sm{
  padding: 6px 10px;
  min-height: 32px;
  border-radius: 10px;
  font-size: 12px;
  line-height: 1;
}
.btn-row{display:flex; gap:10px}
.btn-row .btn{flex:1}

.grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
.kpi{
  background: linear-gradient(180deg, rgba(242,246,255,.9), rgba(255,255,255,.9));
  border:1px solid var(--border);
  border-radius: 14px;
  padding: 12px;
}
.kpi__v{font-size:18px; font-weight:850}
.kpi__k{font-size:12px; color: var(--muted); margin-top:4px}

.list{display:flex; flex-direction:column; gap:10px; margin-top:10px}
.item{
  padding:12px;
  border-radius: 14px;
  border:1px solid var(--border);
  background: rgba(255,255,255,.70);
}
.item__title{font-weight:750}
.item__desc{font-size:12px; color: var(--muted); margin-top:6px; line-height:1.45}
.item__meta{margin-top:10px; display:flex; align-items:center; justify-content:space-between; gap:8px}

.divider{height:1px; background: var(--border); margin: 12px 0}

.modal-backdrop{
  position:fixed; inset:0; z-index:30;
  background: rgba(15,23,42,.38);
}
.modal{
  position:fixed; left:50%; top:50%; transform: translate(-50%,-50%);
  width: min(calc(100% - 24px), 520px);
  z-index:31;
  background: var(--panel);
  border:1px solid var(--border);
  border-radius: 18px;
  box-shadow: var(--shadow);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  max-height: calc(86vh - var(--safe));
}
.modal__header{
  padding: 12px 12px;
  display:flex; align-items:center; justify-content:space-between;
  border-bottom:1px solid var(--border);
}
.modal__title{font-weight:850}
.modal__body{padding: 12px; overflow:auto; flex: 1 1 auto;}
.modal__footer{
  padding: 12px;
  border-top:1px solid var(--border);
  display:flex; gap:10px; justify-content:flex-end;
  flex: 0 0 auto;
}

.toast{
  position:fixed; left:50%; bottom: calc(90px + var(--safe));
  transform: translateX(-50%);
  z-index:40;
  background: rgba(255,255,255,.92);
  border:1px solid var(--border);
  box-shadow: var(--shadow);
  padding: 10px 12px;
  border-radius: 999px;
  font-size: 13px;
}

.hidden{display:none !important;}

.link-btn{
  margin-left: 10px;
  border: none;
  background: transparent;
  color: var(--brand);
  font-weight: 800;
  cursor: pointer;
  padding: 0;
  min-height: auto;
}
.link-btn:active{transform: translateY(1px)}

.link-inline{
  border:none;
  background:transparent;
  padding:0;
  color: var(--brand);
  font-weight: 900;
  cursor:pointer;
  text-align:left;
}
.link-inline:active{transform: translateY(1px)}

/* Make modal feel like mobile bottom-sheet on phones */
@media (max-width: 520px){
  .modal{
    left:0;
    right:0;
    top:auto;
    bottom:0;
    transform:none;
    width: 100%;
    border-radius: 18px 18px 0 0;
    border-left: none;
    border-right: none;
    border-bottom: none;
    max-height: calc(86vh - var(--safe));
  }
  .modal__body{
    max-height: none;
  }
}

/* Sticky stats (points & coupons) */
.sticky-stats{
  position: sticky;
  top: var(--topbar-h, 0px);
  z-index: 9;
  width: 100%;
  background: rgba(247,249,252,.92);
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(10px);
}
.sticky-stats__card{
  width: min(var(--max), 100%);
  margin: 0 auto;
  border-left: none;
  border-right: none;
  background: transparent;
}

.hscroll{
  display:flex;
  gap:10px;
  overflow:auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 6px;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  overscroll-behavior-x: contain;
  scrollbar-width: none;
}
.hscroll::-webkit-scrollbar{display:none}
.carousel{position:relative}
.carousel__track{
  padding: 0 10px;
  scroll-padding: 0 10px;
  cursor: grab;
}
.carousel__track.is-dragging{cursor: grabbing; user-select:none}
.carousel__track.no-anim .mini-card{transition:none !important}
.carousel__track.no-anim .play-page{transition:none !important}
.carousel__dots{
  display:flex;
  justify-content:center;
  gap:6px;
  margin-top: 8px;
}
.dot{
  width: 6px;
  height: 6px;
  border-radius: 999px;
  border: 1px solid rgba(15,23,42,.14);
  background: rgba(15,23,42,.12);
  padding: 0;
  cursor: pointer;
}
.dot--active{
  width: 16px;
  background: rgba(0,184,148,.55);
  border-color: rgba(0,184,148,.45);
}
.mini-card{
  flex: 0 0 auto;
  width: 340px;
  min-width: 340px;
  height: 270px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(242,246,255,.95), rgba(255,255,255,.95));
  border-radius: 14px;
  padding: 12px;
  box-shadow: 0 8px 18px rgba(15,23,42,.06);
  scroll-snap-align: center;
  display:flex;
  flex-direction:column;
  transform: scale(.94);
  opacity: .78;
  transition: transform .18s ease, opacity .18s ease, box-shadow .18s ease, border-color .18s ease;
  will-change: transform;
}
.mini-card--active{
  transform: scale(1);
  opacity: 1;
  border-color: rgba(0,184,148,.28);
  box-shadow: 0 14px 28px rgba(15,23,42,.10);
}

/* Playtest carousel (3 items per page) */
.play-page{
  flex: 0 0 auto;
  width: calc(100% - 20px);
  min-width: calc(100% - 20px);
  scroll-snap-align: center;
}
.play-page__stack{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.play-card{background: rgba(255,255,255,.72)}
.play-card--claim{
  border-color: rgba(0,184,148,.28);
  background: rgba(0,184,148,.06);
}
.play-card--claimed{opacity:.82}
.play-titleline{
  display:flex;
  align-items:center;
  gap:6px;
  flex-wrap:nowrap;
  min-width:0;
}
.play-ico{
  width: 32px;
  height: 32px;
  border-radius: 11px;
  font-size: 14px;
}
.play-title{
  font-weight: 900;
  font-size: 14px;
  line-height: 1.1;
  min-width:0;
  flex: 1 1 auto;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: none;
}
.play-heat{
  font-size: 11px;
  color: var(--muted);
  border: 1px solid var(--border);
  background: rgba(15,23,42,.03);
  border-radius: 999px;
  padding: 4px 8px;
  white-space: nowrap;
  font-weight: 850;
  flex: 0 0 auto;
}
.play-tags{
  margin-top: 8px;
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.play-right{
  flex: 0 0 auto;
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:6px;
  margin-left: 10px;
}
.play-right .btn{white-space:nowrap; padding: 10px 12px}
.play-points b{font-weight:950}
@media (max-width: 420px){
  .play-ico{width:30px; height:30px; border-radius:10px; font-size: 13px;}
  .play-title{font-size: 13px;}
}

/* Memorial card */
.mem-card-shell{
  margin-top: 12px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.82));
  box-shadow: 0 10px 24px rgba(15,23,42,.08);
  padding: 12px;
  position: relative;
  overflow: hidden;
}
.mem-cat{
  position:absolute;
  left: 50%;
  top: -6px;
  transform: translateX(-50%);
  width: 220px;
  height: 56px;
  pointer-events:none;
}
.mem-ear{
  position:absolute;
  top: 0;
  width: 24px;
  height: 24px;
  background: rgba(15,23,42,.80);
  border-radius: 6px;
  transform: rotate(45deg);
}
.mem-ear--l{ left: 62px; }
.mem-ear--r{ right: 62px; }
.mem-eyes{
  position:absolute;
  left: 50%;
  top: 12px;
  transform: translateX(-50%);
  display:flex;
  gap: 14px;
}
.mem-eyes span{
  width: 16px;
  height: 16px;
  border-radius: 999px;
  background: rgba(255,255,255,.92);
  border: 2px solid rgba(15,23,42,.82);
}
.mem-card{
  --mem-bg: #F7E3C5;
  --mem-panel: #FFF7EB;
  --mem-accent: #F2B46B;
  margin-top: 24px;
  border-radius: 18px;
  border: 1px solid rgba(15,23,42,.10);
  background:
    radial-gradient(900px 500px at 10% -10%, rgba(0,184,148,.06), transparent 55%),
    radial-gradient(900px 500px at 90% 10%, rgba(59,130,246,.06), transparent 55%),
    var(--mem-bg);
  padding: 12px;
  position: relative;
}
.mem-sticker{
  position:absolute;
  right: 10px;
  top: 10px;
  width: 34px;
  height: 34px;
  border-radius: 12px;
  background: rgba(255,255,255,.55);
  border: 1px solid rgba(15,23,42,.10);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 18px;
}
.mem-top{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 10px;
}
.mem-brand{
  font-weight: 950;
  letter-spacing: .2px;
  color: rgba(15,23,42,.86);
}
.mem-mini{
  display:flex;
  gap:6px;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.mem-photo{
  margin-top: 10px;
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(255,255,255,.70), rgba(255,255,255,.52));
  border: 1px solid rgba(15,23,42,.10);
  height: 142px;
  display:flex;
  align-items:center;
  justify-content:center;
  position: relative;
  overflow:hidden;
}
.mem-photo::after{
  content:"";
  position:absolute;
  inset: 0;
  background: repeating-linear-gradient(135deg, rgba(255,255,255,.10) 0 10px, rgba(255,255,255,0) 10px 20px);
  opacity: .55;
}
.mem-avatar{
  position: relative;
  z-index: 1;
  width: 96px;
  height: 96px;
  border-radius: 26px;
  background: var(--mem-panel);
  border: 1px solid rgba(15,23,42,.10);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 54px;
  box-shadow: 0 10px 18px rgba(15,23,42,.08);
}
.mem-fields{
  margin-top: 10px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.mem-field{
  display:flex;
  align-items:center;
  gap:10px;
}
.mem-k{
  flex: 0 0 auto;
  font-size: 12px;
  font-weight: 900;
  color: rgba(15,23,42,.78);
  background: rgba(255,255,255,.40);
  border: 1px solid rgba(15,23,42,.08);
  border-radius: 999px;
  padding: 4px 10px;
}
.mem-v{
  font-size: 13px;
  font-weight: 900;
  color: rgba(15,23,42,.92);
  min-width:0;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.mem-v--grow{flex: 1 1 auto;}
.mem-idpill{
  flex: 0 0 auto;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.62);
  border: 1px solid rgba(15,23,42,.10);
  font-weight: 950;
  font-size: 11px;
  white-space: nowrap;
}
.mem-slogan{
  margin-top: 12px;
  font-size: 12px;
  line-height: 1.5;
  color: rgba(15,23,42,.78);
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.35);
  border: 1px solid rgba(15,23,42,.08);
}
.mem-diy{
  margin-top: 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.68);
  padding: 10px;
}
.mem-tabs{
  display:flex;
  gap:8px;
}
.mem-tab{
  flex: 1 1 auto;
  border: 1px solid var(--border);
  background: rgba(15,23,42,.03);
  border-radius: 14px;
  min-height: 38px;
  font-size: 13px;
  font-weight: 900;
  cursor: pointer;
}
.mem-tab--active{
  border-color: rgba(0,184,148,.30);
  background: rgba(0,184,148,.10);
}
.mem-panel{margin-top: 10px;}
.mem-swatches{
  display:flex;
  gap:10px;
  overflow:auto;
  padding-bottom: 4px;
}
.mem-grid{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.mem-opt{
  border: 1px solid var(--border);
  background: rgba(255,255,255,.70);
  border-radius: 14px;
  padding: 8px 10px;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:8px;
  min-height: 40px;
  position: relative;
}
.mem-opt--active{
  border-color: rgba(0,184,148,.35);
  box-shadow: 0 10px 20px rgba(0,184,148,.10);
}
.mem-opt--locked{
  opacity: .45;
}
.mem-opt__ico{font-size: 18px; line-height: 1}
.mem-opt__t{font-size: 12px; font-weight: 900; color: rgba(15,23,42,.86)}
.mem-opt__lock{
  position:absolute;
  right: 8px;
  top: 6px;
  font-size: 12px;
}
.mem-opt__price{
  position:absolute;
  right: 8px;
  bottom: 6px;
  font-size: 10px;
  font-weight: 950;
  color: rgba(15,23,42,.82);
  background: rgba(255,255,255,.72);
  border: 1px solid rgba(15,23,42,.10);
  border-radius: 999px;
  padding: 2px 6px;
  line-height: 1;
}
.mem-opt[data-mem-color]{
  width: 38px;
  height: 38px;
  border-radius: 999px;
  padding: 0;
  justify-content:center;
  background: var(--sw);
  border-color: rgba(15,23,42,.10);
}
.mem-opt[data-mem-color] .mem-opt__lock{right: 12px; top: 10px;}
.mem-opt[data-mem-color] .mem-opt__price{right: -2px; bottom: -2px;}
.mini-card__k{font-size:13px; font-weight:950; color: var(--text); letter-spacing:.2px}
.mini-card__v{font-size:18px; font-weight:950; margin-top:8px; line-height:1.25}
.mini-card__d{font-size:12px; color: var(--muted); margin-top:8px; line-height:1.45}
.mini-card--bind .mini-card__k{font-size:13px; font-weight:900}
.mini-card--bind .mini-card__v{font-size:16px; font-weight:850; margin-top:8px; color: var(--muted)}
.mini-card--bind .mini-card__d{margin-top:6px}
.mini-card--bind{height: 160px;}
.mini-card--bind .mini-card__reward{padding-top: 10px;}
.mini-card__reward{
  margin-top: auto;
  padding-top: 12px;
  border-top: 1px solid var(--border);
}
.mini-card__rk{font-size:12px; font-weight:850}
.mini-card__grant{display:flex; flex-wrap:wrap; gap:6px}
.mini-card__reward-actions{display:flex; justify-content:flex-end; gap:8px}
.mini-card__reward-actions--stack{flex-direction:column; align-items:flex-end}
.mini-card__rewardline{display:flex; align-items:center; gap:8px; flex-wrap:wrap}
.mini-card__v .vlist{display:flex; flex-direction:column; gap:8px}
.mini-card__v .kv{display:flex; align-items:baseline; gap:8px; font-size:14px; line-height:1.35}
.mini-card__v .kv .k{width:16px; color: var(--muted); font-weight:900}
.mini-card__v .kv .t{flex:1; min-width:0; font-weight:900}
.mini-card__v .kv .m{color: var(--muted); font-weight:850; white-space:nowrap}
.mini-card__v .badge-ico{
  display:inline-flex;
  width: 20px;
  height: 20px;
  align-items:center;
  justify-content:center;
  margin-right: 6px;
  border-radius: 6px;
  background: rgba(15,23,42,.06);
  border: 1px solid rgba(15,23,42,.08);
  font-size: 14px;
  line-height: 1;
  vertical-align: -3px;
}
.mini-card__v .vsum{font-size:18px; color: inherit; font-weight:950; line-height:1.25}
.mini-card__v .vdetail{font-size:14px; color: var(--muted); font-weight:850; line-height:1.35}
.mini-card__v .sub{font-size:14px; color: var(--muted); font-weight:850; line-height:1.35}

.milestone{
  border: 1px solid var(--border);
  background: rgba(255,255,255,.70);
  border-radius: 14px;
  padding: 12px;
}
.milestone__top{display:flex; align-items:baseline; justify-content:space-between; gap:10px}
.milestone__title{font-size:12px; color: var(--muted); font-weight:750}
.milestone__v{font-size:18px; font-weight:950}
.milestone__meta{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px}

.progress{
  height: 10px;
  border-radius: 999px;
  background: rgba(15,23,42,.06);
  border: 1px solid rgba(15,23,42,.08);
  overflow:hidden;
  margin-top: 10px;
}
.progress__bar{
  height:100%;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(0,184,148,.95), rgba(59,130,246,.85));
}

.reward-track{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:10px;
}
.reward-card{
  border: 1px solid var(--border);
  background: rgba(255,255,255,.75);
  border-radius: 14px;
  padding: 12px;
}
.reward-card__footer{
  margin-top: 10px;
  display:flex;
  justify-content:flex-end;
}

.share-card{
  border-radius: 18px;
  border:1px dashed rgba(15,23,42,.16);
  background: linear-gradient(180deg, rgba(0,184,148,.10), rgba(255,255,255,.92));
  padding: 14px;
}
.share-card__title{font-weight:900}
.share-card__grid{
  margin-top:10px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
.share-qr{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}
.share-qr__box{
  width: 168px;
  height: 168px;
  padding: 10px;
  background: rgba(255,255,255,.92);
  border: 1px solid var(--border);
  border-radius: 18px;
  box-shadow: 0 10px 20px rgba(15,23,42,.08);
}
.share-qr__box svg{width:100%; height:100%; display:block}
.share-qr__txt{
  width: 100%;
  word-break: break-all;
  text-align:center;
}
.share-sections{display:flex; flex-direction:column; gap:10px}
.share-sec{
  border:1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.65);
  border-radius: 14px;
  padding: 10px 12px;
}
.share-sec__k{font-weight:900}
.share-sec__m{font-size:12px; color: var(--muted); font-weight:750; white-space:nowrap}
.game-icons{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px}
.game-ico{
  width: 34px;
  height: 34px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(15,23,42,.04);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-weight: 950;
  color: var(--text);
  position: relative;
}
.game-ico__badge{
  position:absolute;
  right:-5px;
  top:-7px;
  font-size: 12px;
  line-height: 1;
}
.tag{
  display:inline-flex; align-items:center;
  font-size:11px;
  color: var(--muted);
  border:1px solid var(--border);
  border-radius:999px;
  padding: 4px 8px;
  background: rgba(15,23,42,.03);
}

/* Mutual games: icon/name + tags + top-liked marquee + comment button */
.mutual-item .row{gap:10px}
.mutual-top{align-items:center}
.mutual-bottom{align-items:center; margin-top:10px; flex-wrap:nowrap}
.mutual-bottom .btn{flex:0 0 auto; white-space:nowrap; padding: 10px 14px}
.mutual-detail{
  border:none;
  background:transparent;
  padding:0;
  color: inherit;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  justify-content:flex-start;
  text-align:left;
}
.mutual-detail:active{transform: translateY(1px)}
.mutual-titleline{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
  min-width:0;
}
.mutual-title{
  font-weight: 850;
  line-height: 1.1;
}
.mutual-tags{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.mutual-score{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:12px;
  font-weight:850;
  color: var(--text);
  border:1px solid var(--border);
  border-radius: 999px;
  padding: 6px 10px;
  background: rgba(15,23,42,.03);
  white-space: nowrap;
}
.mutual-exclusive{white-space:nowrap}
.mutual-marquee{
  flex: 1 1 auto;
  max-width: none;
  min-width: 0;
  overflow:hidden;
}
.marquee{
  width:100%;
  height: 32px;
  overflow:hidden;
  position:relative;
  display:flex;
  align-items:flex-start;
  padding-top: 0;
}
.marquee__track{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:8px;
  width:max-content;
  will-change: transform;
  animation: marqueeScrollY 7s linear infinite;
}
.marquee__track.marquee__track--static{
  animation: none !important;
}
.marquee__track.marquee__track--step{
  animation: none !important;
}
.marquee__item{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:12px;
  color: var(--muted);
  border: 1px solid var(--border);
  background: rgba(255,255,255,.55);
  padding: 3px 7px;
  border-radius: 999px;
  white-space: nowrap;
}
.marquee__item--btn{
  cursor:pointer;
  appearance: none;
  /* Don't use `font: inherit` (shorthand) — it overrides `.marquee__item` font-size */
  font-family: inherit;
  font-weight: inherit;
  line-height: 1;
}
.marquee__item--btn:active{transform: translateY(1px)}
@keyframes marqueeScrollY{
  0%{ transform: translateY(0); }
  100%{ transform: translateY(-50%); }
}
@media (prefers-reduced-motion: reduce){
  .marquee__track{ animation: none; }
}
@media (max-width: 420px){
  .marquee__item{ font-size: 8px; padding: 3px 6px; }
}

.equip{
  width: 44px; height: 44px;
  border-radius: 14px;
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  display:flex; align-items:center; justify-content:center;
  font-size: 22px;
}
.equip--frame{border-color: rgba(0,184,148,.25); background: rgba(0,184,148,.08)}
.equip--badge{border-color: rgba(59,130,246,.22); background: rgba(59,130,246,.08)}

.hint{
  padding:10px 12px;
  border-radius: 14px;
  border:1px solid rgba(59,130,246,.18);
  background: rgba(59,130,246,.07);
  color: var(--text);
  font-size:12px;
  line-height:1.45;
}

.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}

/* keep "演示开关"紧凑（使用 .icon-btn--sm 即可） */

/* Opening (full-screen gate before app renders) */
.opening{
  position: fixed;
  inset: 0;
  z-index: 50;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 18px 14px calc(22px + var(--safe));
  background:
    radial-gradient(900px 500px at 12% -10%, rgba(0,184,148,.18), transparent 58%),
    radial-gradient(900px 500px at 88% 12%, rgba(59,130,246,.16), transparent 58%),
    linear-gradient(180deg, rgba(247,249,252,1), rgba(247,249,252,.94));
  color: var(--text);
}
.opening__wrap{
  width: min(var(--max), 100%);
  text-align:center;
  padding: 18px 14px;
}
.opening__brand{
  font-weight: 950;
  letter-spacing:.3px;
}
.opening__title{
  margin-top: 10px;
  font-size: 28px;
  font-weight: 950;
  letter-spacing:.2px;
}
.opening__sub{
  margin-top: 10px;
  color: var(--muted);
  font-size: 13px;
  font-weight: 750;
}
.opening__stage{
  margin: 22px auto 0;
  width: 160px;
  height: 160px;
  position: relative;
}
.opening__ring{
  position:absolute;
  inset: 0;
  border-radius: 999px;
  border: 1px solid rgba(0,184,148,.18);
  background:
    radial-gradient(circle at 50% 50%, rgba(0,184,148,.14), transparent 58%),
    radial-gradient(circle at 30% 20%, rgba(59,130,246,.12), transparent 54%),
    rgba(255,255,255,.60);
  box-shadow: 0 18px 44px rgba(15,23,42,.10);
  animation: openingRing 1.6s ease-in-out infinite;
}
.opening__spark{
  position:absolute;
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(0,184,148,.65);
  box-shadow: 0 8px 18px rgba(0,184,148,.18);
  opacity: .85;
}
.opening__spark.s1{ left: 18px; top: 26px; animation: openingSpark 1.4s ease-in-out infinite; }
.opening__spark.s2{ right: 22px; top: 56px; background: rgba(59,130,246,.60); animation: openingSpark 1.6s ease-in-out infinite; }
.opening__spark.s3{ left: 56px; bottom: 18px; background: rgba(245,158,11,.55); animation: openingSpark 1.5s ease-in-out infinite; }
.opening__hint{
  margin-top: 16px;
  color: var(--muted);
  font-size: 12px;
}
.opening__btn{
  margin-top: 14px;
  width: 100%;
}
.opening__foot{
  margin-top: 12px;
}
.opening.opening--ready .opening__hint{
  color: rgba(15,23,42,.82);
  font-weight: 800;
}
.opening.opening--exit{
  animation: openingExit .32s ease forwards;
}

@keyframes openingRing{
  0%{ transform: scale(.98); filter: saturate(1); }
  50%{ transform: scale(1.02); filter: saturate(1.05); }
  100%{ transform: scale(.98); filter: saturate(1); }
}
@keyframes openingSpark{
  0%{ transform: translateY(0); opacity: .55; }
  50%{ transform: translateY(-10px); opacity: .95; }
  100%{ transform: translateY(0); opacity: .55; }
}
@keyframes openingExit{
  from{ opacity: 1; transform: translateY(0); }
  to{ opacity: 0; transform: translateY(-8px); }
}
@media (prefers-reduced-motion: reduce){
  .opening__ring, .opening__spark{ animation: none; }
  .opening.opening--exit{ animation: none; }
}
