:root{
  /* Light, clear style */
  --bg:#f7f9fc;
  --panel:#ffffff;
  --panel2:#f2f6ff;
  --text:#0f172a;
  --muted:#64748b;
  --brand:#00b894;
  --warn:#f59e0b;
  --danger:#ef4444;
  --ok:#16a34a;
  --border:rgba(15,23,42,.10);
  --shadow:0 10px 24px rgba(15,23,42,.08);
  --radius:16px;
  --radius2:12px;
  --max:520px;
  --safe: env(safe-area-inset-bottom, 0px);
  --safeTop: env(safe-area-inset-top, 0px);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(900px 500px at 10% -10%, rgba(0,184,148,.10), transparent 55%),
    radial-gradient(900px 500px at 90% 10%, rgba(59,130,246,.10), transparent 55%),
    var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "PingFang SC", "Microsoft YaHei", "Noto Sans CJK SC", Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* First recap (ritual) page: stage-like layout */
html.is-firstrecap body{
  background:
    radial-gradient(900px 520px at 50% -12%, rgba(0,184,148,.16), transparent 58%),
    radial-gradient(900px 520px at 85% 10%, rgba(59,130,246,.14), transparent 58%),
    radial-gradient(900px 520px at 10% 20%, rgba(245,158,11,.10), transparent 60%),
    linear-gradient(180deg, rgba(247,249,252,1), rgba(247,249,252,.94));
}
html.is-firstrecap #main{
  /* Override default `.main` padding so the recap cards can stay centered,
     while still showing a fixed topbar title. */
  --firstrecap-topbar-h: 44px;
  padding: calc(12px + var(--safeTop) + var(--firstrecap-topbar-h)) 12px calc(18px + var(--safe));
  min-height: calc(100vh - var(--safe));
  display:flex;
  flex-direction:column;
  justify-content:center;
}
html.is-firstrecap .firstrecap-shell{
  display:flex;
  flex-direction:column;
  gap: 12px;
}

/* First recap: fixed topbar title (doesn't push the stage) */
html.is-firstrecap .firstrecap-topbar{
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  z-index: 12;
  height: calc(var(--firstrecap-topbar-h, 44px) + var(--safeTop));
  padding-top: var(--safeTop);
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(247,249,252,.80);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(15,23,42,.08);
}
html.is-firstrecap .firstrecap-topbar__title{
  font-weight: 950;
  letter-spacing: .2px;
  font-size: 15px;
}

/* First recap: stage layout */
html.is-firstrecap .firstrecap-stage{
  position: relative;
  /* Create a local stacking context so the halo never overlays currency pills */
  isolation: isolate;
  display:flex;
  flex-direction:column;
  align-items:stretch;
  justify-content:center;
  gap: 10px;
}

/* First recap: dedicated currency control, close to cards */
html.is-firstrecap .firstrecap-currency{
  position: relative;
  z-index: 3;
  display:flex;
  justify-content:center;
  gap: 10px;
}
html.is-firstrecap .firstrecap-currency .pill{
  /* Override base `.pill` to become a small info card */
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap: 5px;
  padding: 12px 12px 10px;
  font-size: 12px;
  width: 240px;
  max-width: calc(50% - 6px);
  min-height: 84px;
  white-space: normal;
  /* Solid (non-transparent) */
  background: #ffffff;
  border-color: rgba(15,23,42,.12);
  color: rgba(15,23,42,.88);
  border-radius: 16px;
  box-shadow: 0 16px 28px rgba(15,23,42,.08);
}
html.is-firstrecap .firstrecap-currency .pill--brand{
  background: #e7fbf5;
  border-color: rgba(0,184,148,.26);
  color: rgba(15,23,42,.92);
}
html.is-firstrecap .firstrecap-currency .firstrecap-money--coupons{
  background: #eef5ff;
  border-color: rgba(59,130,246,.22);
}
html.is-firstrecap .firstrecap-currency .pill b{
  font-weight: 950;
  color: rgba(15,23,42,.92);
}
html.is-firstrecap .firstrecap-money__top{
  display:flex;
  flex-direction:row;
  align-items:baseline;
  gap: 8px;
  white-space: nowrap;
}
html.is-firstrecap .firstrecap-money__k{
  font-size: 16px;
  font-weight: 900;
  color: rgba(15,23,42,.78);
}
html.is-firstrecap .firstrecap-money__v{
  font-size: 20px;
  font-weight: 950;
  letter-spacing: .2px;
  color: rgba(15,23,42,.92);
  line-height: 1.1;
}
html.is-firstrecap .firstrecap-money__d{
  margin-top: 0;
  font-size: 11px;
  font-weight: 750;
  line-height: 1.3;
  color: rgba(15,23,42,.62);
}
@media (max-width: 380px){
  html.is-firstrecap .firstrecap-currency{ gap: 8px; }
  html.is-firstrecap .firstrecap-currency .pill{ padding: 11px 11px 9px; min-height: 82px; }
  html.is-firstrecap .firstrecap-money__v{ font-size: 20px; }
}

html.is-firstrecap .firstrecap-skip{
  display:flex;
  justify-content:center;
  padding-bottom: 2px;
}
html.is-firstrecap .firstrecap-skip .link-inline{
  opacity: .72;
  font-weight: 500;
}
html.is-firstrecap .firstrecap-skip .link-inline:hover{ opacity: .92; }
html.is-firstrecap .firstrecap-body{
  position: relative;
  z-index: 1;
}
html.is-firstrecap .firstrecap-body::before{
  content:"";
  position:absolute;
  left:50%;
  top: -40px;
  transform: translateX(-50%);
  width: 420px;
  height: 420px;
  border-radius: 999px;
  background:
    radial-gradient(circle at 50% 50%, rgba(0,184,148,.10), transparent 58%),
    radial-gradient(circle at 30% 20%, rgba(59,130,246,.10), transparent 56%),
    rgba(255,255,255,.55);
  border: 1px solid rgba(0,184,148,.12);
  box-shadow: 0 24px 54px rgba(15,23,42,.10);
  filter: saturate(1.02);
  pointer-events:none;
  /* Always stay behind all stage content (currency + cards) */
  z-index: -1;
}
@media (max-width: 520px){
  html.is-firstrecap .firstrecap-body::before{ width: 360px; height: 360px; top: -34px; }
}

#app{min-height:100%; display:flex; flex-direction:column; align-items:center;}
.topbar{
  position:sticky; top:0; z-index:10;
  width:100%;
  backdrop-filter: blur(10px);
  background: rgba(247,249,252,.85);
  border-bottom:none;
  padding: calc(10px + var(--safeTop)) 14px 10px;
  display:flex; align-items:center; justify-content:center;
}
.topbar__title{
  width: min(var(--max), 100%);
  display:flex; align-items:center; justify-content:space-between;
  gap:10px;
}
.topbar__left{display:flex; align-items:center; gap:10px}
.brand{font-weight:800; letter-spacing:.2px; display:flex; align-items:baseline; gap:8px; line-height:1.15}
.subtitle{font-size:12px; color:var(--muted); margin-top:2px}
.subtitle--inline{margin-top:0; font-weight:650}

.icon-btn{
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  color:var(--text);
  border-radius:999px;
  padding:10px 12px;
  font-size:12px;
  cursor:pointer;
  min-height: 40px;
}
.icon-btn:active{transform: translateY(1px)}
.icon-btn--back{padding:10px 12px}
.icon-btn--sm{
  padding: 2px 8px;
  min-height: 26px;
  font-size: 11px;
  line-height: 1;
}

.main{
  width: min(var(--max), 100%);
  padding: 12px 12px calc(18px + var(--safe));
}

.card{
  background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.92));
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding: 14px;
  box-shadow: var(--shadow);
}
.card + .card{margin-top:12px}

/* Home modules spacing (between recap / discover / gamejam / memorial) */
.home-module + .home-module{
  margin-top: 16px;
}
.row{display:flex; gap:10px; align-items:center}
.col{display:flex; flex-direction:column; gap:6px}
.grow{flex:1}

.h1{font-size:20px; font-weight:800; letter-spacing:.2px; margin:0}
.h2{font-size:14px; font-weight:750; margin:0}
.muted{color:var(--muted)}
.small{font-size:12px}

.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding: 6px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  color: var(--muted);
  font-size:12px;
}
.pill--brand{color: var(--text); border-color: rgba(0,184,148,.30); background: rgba(0,184,148,.10)}
.pill--ok{color: var(--text); border-color: rgba(22,163,74,.25); background: rgba(22,163,74,.10)}
.pill--warn{color: var(--text); border-color: rgba(245,158,11,.26); background: rgba(245,158,11,.10)}
.pill--danger{color: var(--text); border-color: rgba(239,68,68,.26); background: rgba(239,68,68,.10)}

.btn{
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  color: var(--text);
  border-radius: 12px;
  padding: 10px 12px;
  font-size:13px;
  font-weight:650;
  cursor:pointer;
  min-height: 44px;
}
.btn:disabled{opacity:.45; cursor:not-allowed}
.btn:active{transform: translateY(1px)}
.btn--brand{
  border-color: rgba(0,184,148,.35);
  background: linear-gradient(180deg, rgba(0,184,148,.24), rgba(0,184,148,.10));
}
.btn--ghost{
  background: transparent;
}
.btn--sm{
  padding: 6px 10px;
  min-height: 32px;
  border-radius: 10px;
  font-size: 12px;
  line-height: 1;
}
.btn-row{display:flex; gap:10px}
.btn-row .btn{flex:1}

.grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
.kpi{
  background: linear-gradient(180deg, rgba(242,246,255,.9), rgba(255,255,255,.9));
  border:1px solid var(--border);
  border-radius: 14px;
  padding: 12px;
}
.kpi__v{font-size:18px; font-weight:850}
.kpi__k{font-size:12px; color: var(--muted); margin-top:4px}

.list{display:flex; flex-direction:column; gap:10px; margin-top:10px}
.item{
  padding:12px;
  border-radius: 14px;
  border:1px solid var(--border);
  background: rgba(255,255,255,.70);
}
.item__title{font-weight:750}
.item__desc{font-size:12px; color: var(--muted); margin-top:6px; line-height:1.45}
.item__meta{margin-top:10px; display:flex; align-items:center; justify-content:space-between; gap:8px}

/* Memorial points shop: keep CTA on the right */
.mem-shop__right{
  flex: 0 0 auto;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  margin-left: 10px;
}
.mem-shop__right .btn{
  white-space: nowrap;
}

.divider{height:1px; background: var(--border); margin: 12px 0}

.modal-backdrop{
  position:fixed; inset:0; z-index:80;
  background: rgba(15,23,42,.38);
}
.modal{
  position:fixed; left:50%; top:50%; transform: translate(-50%,-50%);
  width: min(calc(100% - 24px), 520px);
  z-index:81;
  background: var(--panel);
  border:1px solid var(--border);
  border-radius: 18px;
  box-shadow: var(--shadow);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  max-height: calc(86vh - var(--safe));
}
.modal__header{
  padding: 12px 12px;
  display:flex; align-items:center; justify-content:space-between;
  border-bottom:1px solid var(--border);
}
.modal__title{font-weight:850}
.modal__body{padding: 12px; overflow:auto; flex: 1 1 auto;}
.modal__footer{
  padding: 12px;
  border-top:1px solid var(--border);
  display:flex; gap:10px; justify-content:flex-end;
  flex: 0 0 auto;
}

/* Celebrate variant (first recap completion) */
.modal[data-variant="celebrate"]{
  overflow: hidden;
  border-radius: 22px;
}
.modal[data-variant="celebrate"]::before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(560px 260px at 50% -10%, rgba(0,184,148,.22), transparent 60%),
    radial-gradient(520px 260px at 20% 0%, rgba(59,130,246,.16), transparent 62%),
    radial-gradient(520px 260px at 80% 10%, rgba(245,158,11,.12), transparent 62%);
  pointer-events:none;
  opacity: .95;
}
.modal[data-variant="celebrate"] .modal__header,
.modal[data-variant="celebrate"] .modal__body,
.modal[data-variant="celebrate"] .modal__footer{
  position: relative;
  z-index: 1;
}
.modal[data-variant="celebrate"] .modal__header{
  /* Remove the normal "完成" header bar for a more ceremonial look */
  display:none;
}
.modal[data-variant="celebrate"] .modal__title{
  font-weight: 950;
  letter-spacing: .2px;
}
.modal[data-variant="celebrate"] .modal__body{
  padding-top: 16px;
}
.modal[data-variant="celebrate"] .modal__footer{
  justify-content: center;
}
.modal[data-variant="celebrate"] .modal__footer .btn{
  min-width: 140px;
}

.celebrate{
  display:flex;
  flex-direction:column;
  gap: 12px;
}
.celebrate-hero{
  height: 8px;
}
.celebrate-top{
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  gap: 6px;
  padding-top: 4px;
}
.celebrate-badge{
  width: 46px;
  height: 46px;
  border-radius: 16px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight: 950;
  font-size: 18px;
  color: rgba(15,23,42,.92);
  background: rgba(255,255,255,.82);
  border: 1px solid rgba(15,23,42,.10);
  box-shadow: 0 12px 22px rgba(15,23,42,.08);
}
.celebrate-badge{ display:none; }
.celebrate-title{
  font-weight: 950;
  font-size: 20px;
  letter-spacing: .2px;
  color: rgba(15,23,42,.92);
}
.celebrate-sub{
  font-size: 12px;
  font-weight: 750;
  color: rgba(15,23,42,.62);
}
.celebrate-sub{ display:none; }
.celebrate-panel{
  border-radius: 18px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.78);
  box-shadow: 0 16px 30px rgba(15,23,42,.08);
  padding: 12px;
}
.celebrate-panel__k{
  font-size: 12px;
  font-weight: 900;
  color: rgba(15,23,42,.72);
}
.celebrate-panel__k{ display:none; }
.celebrate-grants{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 6px;
}
.celebrate-grant{
  border-radius: 16px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(15,23,42,.02);
  padding: 12px 12px 10px;
  display:flex;
  flex-direction:column;
  gap: 6px;
}
.celebrate-grant--points{
  border-color: rgba(0,184,148,.28);
  background: rgba(0,184,148,.08);
}
.celebrate-grant--coupons{
  border-color: rgba(59,130,246,.24);
  background: rgba(59,130,246,.07);
}
.celebrate-grant__k{
  font-size: 12px;
  font-weight: 900;
  color: rgba(15,23,42,.72);
}
.celebrate-grant__v{
  font-size: 26px;
  font-weight: 950;
  letter-spacing: .2px;
  color: rgba(15,23,42,.92);
  line-height: 1.05;
}
.celebrate-grant__d{
  margin-top: 2px;
  font-size: 11px;
  font-weight: 750;
  line-height: 1.35;
  color: rgba(15,23,42,.62);
}
@media (max-width: 420px){
  .celebrate-grants{ grid-template-columns: 1fr; }
}

.toast{
  position:fixed; left:50%; bottom: calc(90px + var(--safe));
  transform: translateX(-50%);
  z-index:90;
  background: rgba(255,255,255,.92);
  border:1px solid var(--border);
  box-shadow: var(--shadow);
  padding: 10px 12px;
  border-radius: 999px;
  font-size: 13px;
}

/* Reward fly animation (claim -> sticky stats pills) */
.fly-reward{
  position: fixed;
  left: 0;
  top: 0;
  z-index: 120;
  pointer-events: none;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(0,184,148,.26);
  background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,255,255,.82));
  box-shadow:
    0 18px 38px rgba(15,23,42,.18),
    0 0 0 1px rgba(0,184,148,.12) inset,
    0 0 26px rgba(0,184,148,.18);
  backdrop-filter: blur(10px);
  font-size: 13px;
  font-weight: 950;
  color: rgba(15,23,42,.90);
  transform: translate(-50%, -50%);
  will-change: transform, opacity;
  opacity: 1;
}
.fly-reward.fly-reward--coupon{
  border-color: rgba(59,130,246,.26);
  box-shadow:
    0 18px 38px rgba(15,23,42,.18),
    0 0 0 1px rgba(59,130,246,.12) inset,
    0 0 26px rgba(59,130,246,.18);
}
.fly-reward.fly-reward--anim{
  transition: transform .95s cubic-bezier(.16,.92,.16,1), opacity .95s ease;
}
@media (prefers-reduced-motion: reduce){
  .fly-reward.fly-reward--anim{ transition: none; }
}

/* Target pill pulse when reward arrives */
.pill.pill--pulse{
  animation: pillPulse .52s ease both;
}
@keyframes pillPulse{
  0%{ transform: scale(1); filter: saturate(1); }
  45%{ transform: scale(1.08); filter: saturate(1.12); }
  100%{ transform: scale(1); filter: saturate(1); }
}

.hidden{display:none !important;}

.link-btn{
  margin-left: 10px;
  border: none;
  background: transparent;
  color: var(--brand);
  font-weight: 800;
  cursor: pointer;
  padding: 0;
  min-height: auto;
}
.link-btn:active{transform: translateY(1px)}

.link-inline{
  border:none;
  background:transparent;
  padding:0;
  color: var(--brand);
  font-weight: 900;
  cursor:pointer;
  text-align:left;
}
.link-inline:active{transform: translateY(1px)}

/* Make modal feel like mobile bottom-sheet on phones */
@media (max-width: 520px){
  .modal{
    left:0;
    right:0;
    top:auto;
    bottom:0;
    transform:none;
    width: 100%;
    border-radius: 18px 18px 0 0;
    border-left: none;
    border-right: none;
    border-bottom: none;
    max-height: calc(86vh - var(--safe));
  }
  .modal__body{
    max-height: none;
  }
}

/* Sticky stats (points & coupons) */
.sticky-stats{
  position: sticky;
  top: var(--topbar-h, 0px);
  z-index: 9;
  width: 100%;
  background: rgba(247,249,252,.92);
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(10px);
}
.sticky-stats__card{
  width: min(var(--max), 100%);
  margin: 0 auto;
  border-left: none;
  border-right: none;
  background: transparent;
}

.hscroll{
  display:flex;
  gap:10px;
  overflow:auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 6px;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  overscroll-behavior-x: contain;
  scrollbar-width: none;
}
.hscroll::-webkit-scrollbar{display:none}
.carousel{position:relative}
.carousel__track{
  padding: 0 10px;
  scroll-padding: 0 10px;
  cursor: grab;
}
.carousel__track.is-dragging{cursor: grabbing; user-select:none}
.carousel__track.no-anim .mini-card{transition:none !important}
.carousel__track.no-anim .play-page{transition:none !important}
.carousel__dots{
  display:flex;
  justify-content:center;
  gap:6px;
  margin-top: 8px;
}
.carousel__meta{
  margin-top: 8px;
  display:flex;
  align-items:baseline;
  justify-content:center;
  gap:10px;
  font-size: 12px;
  color: var(--muted);
  font-weight: 800;
}
.dot{
  width: 6px;
  height: 6px;
  border-radius: 999px;
  border: 1px solid rgba(15,23,42,.14);
  background: rgba(15,23,42,.12);
  padding: 0;
  cursor: pointer;
}
.dot--active{
  width: 16px;
  background: rgba(0,184,148,.55);
  border-color: rgba(0,184,148,.45);
}
.mini-card{
  flex: 0 0 auto;
  width: 340px;
  min-width: 340px;
  height: 270px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(242,246,255,.95), rgba(255,255,255,.95));
  border-radius: 14px;
  padding: 12px;
  box-shadow: 0 8px 18px rgba(15,23,42,.06);
  scroll-snap-align: center;
  display:flex;
  flex-direction:column;
  transform: scale(.94);
  opacity: .78;
  transition: transform .18s ease, opacity .18s ease, box-shadow .18s ease, border-color .18s ease;
  will-change: transform;
}
.mini-card--active{
  transform: scale(1);
  opacity: 1;
  border-color: rgba(0,184,148,.28);
  box-shadow: 0 14px 28px rgba(15,23,42,.10);
}
.mini-card.mini-card--enter{
  animation: hallCardSlideIn .52s cubic-bezier(.14,.92,.18,1) both;
}

/* Playtest carousel (3 items per page) */
.play-page{
  flex: 0 0 auto;
  width: calc(100% - 20px);
  min-width: calc(100% - 20px);
  scroll-snap-align: center;
}
.play-page__stack{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.play-card{background: rgba(255,255,255,.72)}
.play-card--claim{
  border-color: rgba(0,184,148,.28);
  background: rgba(0,184,148,.06);
}
.play-card--claimed{opacity:.82}
.play-titleline{
  display:flex;
  align-items:center;
  gap:6px;
  flex-wrap:nowrap;
  min-width:0;
}
.play-ico{
  width: 32px;
  height: 32px;
  border-radius: 11px;
  font-size: 14px;
}
.play-title{
  font-weight: 900;
  font-size: 14px;
  line-height: 1.1;
  min-width:0;
  flex: 1 1 auto;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: none;
}
.play-heat{
  font-size: 11px;
  color: var(--muted);
  border: 1px solid var(--border);
  background: rgba(15,23,42,.03);
  border-radius: 999px;
  padding: 4px 8px;
  white-space: nowrap;
  font-weight: 850;
  flex: 0 0 auto;
}
.play-tags{
  margin-top: 8px;
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.play-right{
  flex: 0 0 auto;
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:6px;
  margin-left: 10px;
}
.play-right .btn{white-space:nowrap; padding: 10px 12px}
/* Smaller CTA for GameJam play-go button */
.play-right .btn.btn--sm{
  min-height: 34px;
  padding: 7px 10px;
  border-radius: 10px;
  font-size: 12px;
}
.play-points b{font-weight:950}
@media (max-width: 420px){
  .play-ico{width:30px; height:30px; border-radius:10px; font-size: 13px;}
  .play-title{font-size: 13px;}
}

/* Memorial card */
.mem-card-shell{
  margin-top: 12px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.82));
  box-shadow: 0 10px 24px rgba(15,23,42,.08);
  padding: 12px;
  position: relative;
  overflow: hidden;
}
.mem-cat{
  position:absolute;
  left: 50%;
  top: -6px;
  transform: translateX(-50%);
  width: 220px;
  height: 56px;
  pointer-events:none;
}
.mem-ear{
  position:absolute;
  top: 0;
  width: 24px;
  height: 24px;
  background: rgba(15,23,42,.80);
  border-radius: 6px;
  transform: rotate(45deg);
}
.mem-ear--l{ left: 62px; }
.mem-ear--r{ right: 62px; }
.mem-eyes{
  position:absolute;
  left: 50%;
  top: 12px;
  transform: translateX(-50%);
  display:flex;
  gap: 14px;
}
.mem-eyes span{
  width: 16px;
  height: 16px;
  border-radius: 999px;
  background: rgba(255,255,255,.92);
  border: 2px solid rgba(15,23,42,.82);
}
.mem-card{
  --mem-bg: #F7E3C5;
  --mem-panel: #FFF7EB;
  --mem-accent: #F2B46B;
  margin-top: 10px;
  border-radius: 18px;
  border: 1px solid rgba(15,23,42,.10);
  background:
    radial-gradient(900px 500px at 10% -10%, rgba(0,184,148,.06), transparent 55%),
    radial-gradient(900px 500px at 90% 10%, rgba(59,130,246,.06), transparent 55%),
    var(--mem-bg);
  padding: 12px;
  position: relative;
}
.mem-sticker{
  position:absolute;
  right: 10px;
  top: 10px;
  width: 34px;
  height: 34px;
  border-radius: 12px;
  background: rgba(255,255,255,.55);
  border: 1px solid rgba(15,23,42,.10);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 18px;
}
.mem-stickers{
  position:absolute;
  inset: 0;
  pointer-events: none;
}
.mem-sticker.mem-sticker--placed{
  right: auto;
  top: auto;
  left: 50%;
  top: 20%;
  width: 42px;
  height: 42px;
  border-radius: 14px;
  background: rgba(255,255,255,.82);
  border: 1px solid rgba(15,23,42,.12);
  box-shadow: 0 12px 22px rgba(15,23,42,.10);
  cursor: grab;
  pointer-events: auto;
  touch-action: none;
  user-select: none;
}
.mem-sticker.mem-sticker--placed:active{ cursor: grabbing; }
.mem-sticker.mem-sticker--placed.is-active{
  border-color: rgba(0,184,148,.38);
  box-shadow: 0 16px 30px rgba(0,184,148,.12), 0 12px 22px rgba(15,23,42,.10);
}
.mem-top{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 10px;
}
.mem-brand{
  font-weight: 950;
  letter-spacing: .2px;
  color: rgba(15,23,42,.86);
}
.mem-mini{
  display:flex;
  gap:6px;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.mem-photo{
  margin-top: 10px;
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(255,255,255,.70), rgba(255,255,255,.52));
  border: 1px solid rgba(15,23,42,.10);
  height: 142px;
  display:flex;
  align-items:center;
  justify-content:center;
  position: relative;
  overflow:hidden;
}
.mem-photo::after{
  content:"";
  position:absolute;
  inset: 0;
  background: repeating-linear-gradient(135deg, rgba(255,255,255,.10) 0 10px, rgba(255,255,255,0) 10px 20px);
  opacity: .55;
}
.mem-avatar{
  position: relative;
  z-index: 1;
  width: 96px;
  height: 96px;
  border-radius: 26px;
  background: var(--mem-panel);
  border: 1px solid rgba(15,23,42,.10);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 54px;
  box-shadow: 0 10px 18px rgba(15,23,42,.08);
}
.mem-fields{
  margin-top: 10px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.mem-field{
  display:flex;
  align-items:center;
  gap:10px;
}
.mem-name{
  flex: 1 1 auto;
  min-width: 0;
  display:flex;
  align-items:baseline;
  gap: 8px;
}
.mem-k{
  flex: 0 0 auto;
  font-size: 12px;
  font-weight: 900;
  color: rgba(15,23,42,.78);
  background: rgba(255,255,255,.40);
  border: 1px solid rgba(15,23,42,.08);
  border-radius: 999px;
  padding: 4px 10px;
}
.mem-v{
  font-size: 13px;
  font-weight: 900;
  color: rgba(15,23,42,.92);
  min-width:0;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.mem-v--grow{flex: 1 1 auto;}
.mem-idpill{
  flex: 0 0 auto;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.62);
  border: 1px solid rgba(15,23,42,.10);
  font-weight: 950;
  font-size: 11px;
  white-space: nowrap;
}
.mem-slogan{
  margin-top: 12px;
  font-size: 12px;
  line-height: 1.5;
  color: rgba(15,23,42,.78);
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.35);
  border: 1px solid rgba(15,23,42,.08);
}
.mem-diy{
  margin-top: 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.68);
  padding: 10px;
}
.mem-tabs{
  display:flex;
  gap:8px;
}
.mem-tab{
  flex: 1 1 auto;
  border: 1px solid var(--border);
  background: rgba(15,23,42,.03);
  border-radius: 14px;
  min-height: 38px;
  font-size: 13px;
  font-weight: 900;
  cursor: pointer;
}
.mem-tab--active{
  border-color: rgba(0,184,148,.30);
  background: rgba(0,184,148,.10);
}
.mem-panel{margin-top: 10px;}
.mem-swatches{
  display:flex;
  gap:10px;
  overflow:auto;
  padding-bottom: 4px;
}
.mem-grid{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.mem-opt{
  border: 1px solid var(--border);
  background: rgba(255,255,255,.70);
  border-radius: 14px;
  padding: 8px 10px;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:8px;
  min-height: 40px;
  position: relative;
}
.mem-opt--active{
  border-color: rgba(0,184,148,.35);
  box-shadow: 0 10px 20px rgba(0,184,148,.10);
}
.mem-opt--locked{
  opacity: .45;
}
.mem-opt__ico{font-size: 18px; line-height: 1}
.mem-opt__t{font-size: 12px; font-weight: 900; color: rgba(15,23,42,.86)}
.mem-opt__lock{
  position:absolute;
  right: 8px;
  top: 6px;
  font-size: 12px;
}
.mem-opt__price{
  position:absolute;
  right: 8px;
  bottom: 6px;
  font-size: 10px;
  font-weight: 950;
  color: rgba(15,23,42,.82);
  background: rgba(255,255,255,.72);
  border: 1px solid rgba(15,23,42,.10);
  border-radius: 999px;
  padding: 2px 6px;
  line-height: 1;
}
.mem-opt[data-mem-color]{
  width: 38px;
  height: 38px;
  border-radius: 999px;
  padding: 0;
  justify-content:center;
  background: var(--sw);
  border-color: rgba(15,23,42,.10);
}
.mem-opt[data-mem-color] .mem-opt__lock{right: 12px; top: 10px;}
.mem-opt[data-mem-color] .mem-opt__price{right: -2px; bottom: -2px;}
.mini-card__k{font-size:13px; font-weight:950; color: var(--text); letter-spacing:.2px}
.mini-card__v{font-size:18px; font-weight:950; margin-top:8px; line-height:1.25}
.mini-card__d{font-size:12px; color: var(--muted); margin-top:8px; line-height:1.45}
.mini-card--bind .mini-card__k{font-size:13px; font-weight:900}
.mini-card--bind .mini-card__v{font-size:16px; font-weight:850; margin-top:8px; color: var(--muted)}
.mini-card--bind .mini-card__d{margin-top:6px}
.mini-card--bind{height: 160px;}
.mini-card--bind .mini-card__reward{padding-top: 10px;}
.mini-card__reward{
  margin-top: auto;
  padding-top: 12px;
  border-top: 1px solid var(--border);
}
.mini-card__rk{font-size:12px; font-weight:850}
.mini-card__grant{display:flex; flex-wrap:wrap; gap:6px}
.mini-card__reward-actions{display:flex; justify-content:flex-end; gap:8px}
.mini-card__reward-actions--stack{flex-direction:column; align-items:flex-end}
.mini-card__rewardline{display:flex; align-items:center; gap:8px; flex-wrap:wrap}
.mini-card__v .vlist{display:flex; flex-direction:column; gap:8px}
.mini-card__v .kv{display:flex; align-items:baseline; gap:8px; font-size:14px; line-height:1.35}
.mini-card__v .kv .k{width:16px; color: var(--muted); font-weight:900}
.mini-card__v .kv .t{flex:1; min-width:0; font-weight:900}
.mini-card__v .kv .m{color: var(--muted); font-weight:850; white-space:nowrap}
.mini-card__v .badge-ico{
  display:inline-flex;
  width: 20px;
  height: 20px;
  align-items:center;
  justify-content:center;
  margin-right: 6px;
  border-radius: 6px;
  background: rgba(15,23,42,.06);
  border: 1px solid rgba(15,23,42,.08);
  font-size: 14px;
  line-height: 1;
  vertical-align: -3px;
}
.mini-card__v .vsum{font-size:18px; color: inherit; font-weight:950; line-height:1.25}
.mini-card__v .vdetail{font-size:14px; color: var(--muted); font-weight:850; line-height:1.35}
.mini-card__v .sub{font-size:14px; color: var(--muted); font-weight:850; line-height:1.35}

.milestone{
  border: 1px solid var(--border);
  background: rgba(255,255,255,.70);
  border-radius: 14px;
  padding: 12px;
}
.milestone__top{display:flex; align-items:baseline; justify-content:space-between; gap:10px}
.milestone__title{font-size:12px; color: var(--muted); font-weight:750}
.milestone__v{font-size:18px; font-weight:950}
.milestone__meta{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px}

.progress{
  height: 10px;
  border-radius: 999px;
  background: rgba(15,23,42,.06);
  border: 1px solid rgba(15,23,42,.08);
  overflow:hidden;
  margin-top: 10px;
}
.progress__bar{
  height:100%;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(0,184,148,.95), rgba(59,130,246,.85));
}

.reward-track{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:10px;
}
.reward-card{
  border: 1px solid var(--border);
  background: rgba(255,255,255,.75);
  border-radius: 14px;
  padding: 12px;
}
.reward-card__footer{
  margin-top: 10px;
  display:flex;
  justify-content:flex-end;
}

.share-card{
  border-radius: 18px;
  border:1px dashed rgba(15,23,42,.16);
  background: linear-gradient(180deg, rgba(0,184,148,.10), rgba(255,255,255,.92));
  padding: 14px;
}
.share-card__title{font-weight:900}
.share-card__grid{
  margin-top:10px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
.share-qr{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}
.share-qr__box{
  width: 168px;
  height: 168px;
  padding: 10px;
  background: rgba(255,255,255,.92);
  border: 1px solid var(--border);
  border-radius: 18px;
  box-shadow: 0 10px 20px rgba(15,23,42,.08);
}
.share-qr__box svg{width:100%; height:100%; display:block}
.share-qr__txt{
  width: 100%;
  word-break: break-all;
  text-align:center;
}
.share-sections{display:flex; flex-direction:column; gap:10px}
.share-sec{
  border:1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.65);
  border-radius: 14px;
  padding: 10px 12px;
}
.share-sec__k{font-weight:900}
.share-sec__m{font-size:12px; color: var(--muted); font-weight:750; white-space:nowrap}
.game-icons{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px}
.game-ico{
  width: 34px;
  height: 34px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(15,23,42,.04);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-weight: 950;
  color: var(--text);
  position: relative;
}
.game-ico__badge{
  position:absolute;
  right:-5px;
  top:-7px;
  font-size: 12px;
  line-height: 1;
}
.tag{
  display:inline-flex; align-items:center;
  font-size:11px;
  color: var(--muted);
  border:1px solid var(--border);
  border-radius:999px;
  padding: 4px 8px;
  background: rgba(15,23,42,.03);
}

/* Mutual games: icon/name + tags + top-liked marquee + comment button */
.mutual-item .row{gap:10px}
.mutual-top{align-items:center}
.mutual-bottom{align-items:center; margin-top:10px; flex-wrap:nowrap}
.mutual-bottom .btn{flex:0 0 auto; white-space:nowrap; padding: 10px 14px}
.mutual-detail{
  border:none;
  background:transparent;
  padding:0;
  color: inherit;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  justify-content:flex-start;
  text-align:left;
}
.mutual-detail:active{transform: translateY(1px)}
.mutual-titleline{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
  min-width:0;
}
.mutual-title{
  font-weight: 850;
  line-height: 1.1;
}
.mutual-tags{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.mutual-score{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:12px;
  font-weight:850;
  color: var(--text);
  border:1px solid var(--border);
  border-radius: 999px;
  padding: 6px 10px;
  background: rgba(15,23,42,.03);
  white-space: nowrap;
}
.mutual-exclusive{white-space:nowrap}
.mutual-marquee{
  flex: 1 1 auto;
  max-width: none;
  min-width: 0;
  overflow:hidden;
}
.marquee{
  width:100%;
  height: 32px;
  overflow:hidden;
  position:relative;
  display:flex;
  align-items:flex-start;
  padding-top: 0;
}
.marquee__track{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:8px;
  width:max-content;
  will-change: transform;
  animation: marqueeScrollY 7s linear infinite;
}
.marquee__track.marquee__track--static{
  animation: none !important;
}
.marquee__track.marquee__track--step{
  animation: none !important;
}
.marquee__item{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:12px;
  color: var(--muted);
  border: 1px solid var(--border);
  background: rgba(255,255,255,.55);
  padding: 3px 7px;
  border-radius: 999px;
  white-space: nowrap;
}
.marquee__item--btn{
  cursor:pointer;
  appearance: none;
  /* Don't use `font: inherit` (shorthand) — it overrides `.marquee__item` font-size */
  font-family: inherit;
  font-weight: inherit;
  line-height: 1;
}
.marquee__item--btn:active{transform: translateY(1px)}
@keyframes marqueeScrollY{
  0%{ transform: translateY(0); }
  100%{ transform: translateY(-50%); }
}
@media (prefers-reduced-motion: reduce){
  .marquee__track{ animation: none; }
}
@media (max-width: 420px){
  .marquee__item{ font-size: 8px; padding: 3px 6px; }
}

.equip{
  width: 44px; height: 44px;
  border-radius: 14px;
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  display:flex; align-items:center; justify-content:center;
  font-size: 22px;
}
.equip--frame{border-color: rgba(0,184,148,.25); background: rgba(0,184,148,.08)}
.equip--badge{border-color: rgba(59,130,246,.22); background: rgba(59,130,246,.08)}

.hint{
  padding:10px 12px;
  border-radius: 14px;
  border:1px solid rgba(59,130,246,.18);
  background: rgba(59,130,246,.07);
  color: var(--text);
  font-size:12px;
  line-height:1.45;
}

.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}

/* keep "演示开关"紧凑（使用 .icon-btn--sm 即可） */

/* Opening (full-screen gate before app renders) */
.opening{
  position: fixed;
  inset: 0;
  z-index: 50;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 18px 14px calc(22px + var(--safe));
  background:
    radial-gradient(900px 500px at 12% -10%, rgba(0,184,148,.18), transparent 58%),
    radial-gradient(900px 500px at 88% 12%, rgba(59,130,246,.16), transparent 58%),
    linear-gradient(180deg, rgba(247,249,252,1), rgba(247,249,252,.94));
  color: var(--text);
}
.opening__wrap{
  width: min(var(--max), 100%);
  text-align:center;
  padding: 18px 14px;
}
.opening__brand{
  font-weight: 950;
  letter-spacing:.3px;
}
.opening__title{
  margin-top: 10px;
  font-size: clamp(32px, 6.2vw, 42px);
  font-weight: 950;
  letter-spacing:.2px;
}
.opening__sub{
  margin-top: 10px;
  color: var(--muted);
  font-size: 13px;
  font-weight: 750;
}
.opening__stage{
  margin: 22px auto 0;
  width: clamp(180px, 46vw, 230px);
  height: clamp(180px, 46vw, 230px);
  position: relative;
}
.opening__stage::after{
  content:"";
  position:absolute;
  inset:-16px;
  border-radius: 999px;
  background:
    radial-gradient(circle at 30% 25%, rgba(0,184,148,.12), transparent 48%),
    radial-gradient(circle at 70% 35%, rgba(59,130,246,.12), transparent 52%),
    radial-gradient(circle at 55% 80%, rgba(245,158,11,.10), transparent 56%);
  opacity: .9;
  filter: blur(0.2px);
  animation: openingAura 2.6s ease-in-out infinite;
  pointer-events:none;
}
.opening__ring{
  position:absolute;
  inset: 0;
  border-radius: 999px;
  border: 1px solid rgba(0,184,148,.18);
  background:
    radial-gradient(circle at 50% 50%, rgba(0,184,148,.14), transparent 58%),
    radial-gradient(circle at 30% 20%, rgba(59,130,246,.12), transparent 54%),
    rgba(255,255,255,.60);
  box-shadow: 0 18px 44px rgba(15,23,42,.10);
  animation: openingRing 1.9s ease-in-out infinite;
  overflow:hidden;
}
.opening__ring::before{
  content:"";
  position:absolute;
  inset:-8px;
  border-radius: 999px;
  background: conic-gradient(
    from 190deg,
    rgba(0,184,148,.00) 0deg,
    rgba(0,184,148,.20) 60deg,
    rgba(59,130,246,.18) 150deg,
    rgba(245,158,11,.14) 230deg,
    rgba(0,184,148,.00) 360deg
  );
  opacity: .75;
  animation: openingSpin 6.2s linear infinite;
  pointer-events:none;
}
.opening__ring::after{
  content:"";
  position:absolute;
  inset: 14px;
  border-radius: 999px;
  background:
    radial-gradient(circle at 40% 35%, rgba(255,255,255,.90), rgba(255,255,255,.25) 55%, transparent 70%),
    radial-gradient(circle at 60% 70%, rgba(0,184,148,.10), transparent 62%);
  opacity: .85;
  animation: openingInner 2.8s ease-in-out infinite;
  pointer-events:none;
}
.opening__spark{
  position:absolute;
  left: 50%;
  top: 50%;
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: rgba(0,184,148,.65);
  box-shadow: 0 8px 18px rgba(0,184,148,.18);
  opacity: .85;
  transform: translate(-50%,-50%) rotate(0deg) translateX(var(--r, 72px));
  animation: openingOrbit var(--dur, 2.8s) cubic-bezier(.2,.9,.2,1) infinite;
}
.opening__spark.s1{
  --r: 78px;
  --dur: 3.0s;
  animation-delay: -0.4s;
}
.opening__spark.s2{
  --r: 60px;
  --dur: 2.6s;
  background: rgba(59,130,246,.62);
  box-shadow: 0 10px 20px rgba(59,130,246,.18);
  animation-delay: -1.1s;
}
.opening__spark.s3{
  --r: 90px;
  --dur: 3.4s;
  background: rgba(245,158,11,.58);
  box-shadow: 0 10px 20px rgba(245,158,11,.16);
  animation-delay: -0.8s;
}
.opening__hint{
  margin-top: 16px;
  color: var(--muted);
  font-size: 12px;
}
.opening__btn{
  margin-top: 14px;
  /* Avoid looking too long on wide screens */
  width: min(320px, 100%);
  display:block;
  margin-left: auto;
  margin-right: auto;
  font-size: 15px;
  letter-spacing: .2px;
}
.opening__debug{
  margin-top: 10px;
  display:block;
  width: fit-content;
  align-items: center;
  justify-content: center;
  min-width: 140px;
  max-width: 220px;
  margin-left: auto;
  margin-right: auto;
  opacity: .82;
  min-height: 28px;
  padding: 6px 10px;
  font-size: 11px;
}
.opening__foot{
  margin-top: 12px;
}
.opening.opening--ready .opening__hint{
  color: rgba(15,23,42,.82);
  font-weight: 800;
}
.opening.opening--exit{
  animation: openingExit .32s ease forwards;
}

/* First recap ritual page: make recap cards bigger and keep focus */
.firstrecap-body .card{
  position: relative;
  z-index: 1;
  box-shadow: 0 14px 34px rgba(15,23,42,.10);
}
.firstrecap-body > .card{
  border-radius: 20px;
  padding: 16px 16px 14px;
  background: linear-gradient(180deg, rgba(255,255,255,.94), rgba(255,255,255,.90));
}
.firstrecap-body .h1{
  font-size: 22px;
}
.firstrecap-body .divider{
  margin: 14px 0;
}
.firstrecap-body .recap-section{
  padding-top: 2px;
}
.firstrecap-body .carousel__dots{
  display:flex;
}
.firstrecap-body .recap-section__head{
  display:none;
}
.firstrecap-body .hscroll{
  overflow:auto;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  padding-bottom: 6px;
}
.firstrecap-body .carousel__track{
  padding: 0 10px;
  scroll-padding: 0 10px;
}
.firstrecap-body .mini-card{
  display:none;
  width: calc(100% - 20px);
  min-width: calc(100% - 20px);
  /* Fixed height for consistent rhythm across cards */
  height: 320px;
  transform: none;
  opacity: 1;
  padding: 16px 16px 14px;
}
.firstrecap-body .mini-card__v{
  /* Allow long content to scroll inside, while keeping reward/CTA pinned */
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
  padding-right: 6px;
  scrollbar-width: thin;
}
.firstrecap-body .mini-card__v::-webkit-scrollbar{ width: 6px; }
.firstrecap-body .mini-card__v::-webkit-scrollbar-thumb{
  background: rgba(15,23,42,.14);
  border-radius: 999px;
}
.firstrecap-body .mini-card__v::-webkit-scrollbar-track{ background: transparent; }
.firstrecap-body .mini-card__d{
  overflow:hidden;
  text-overflow: ellipsis;
}
.firstrecap-body .mini-card__reward{ margin-top: auto; }
.firstrecap-body .mini-card__rewardline{ flex-wrap: wrap; }
.firstrecap-body .mini-card__reward-actions{ flex: 0 0 auto; }
.firstrecap-body .mini-card__reward-actions .btn{ min-height: 44px; }
.firstrecap-body .mini-card__reward-actions--stack .btn{ width: 100%; }
.firstrecap-body .mini-card__reward-actions--stack{ width: 140px; }
.firstrecap-body .mini-card__reward-actions--stack .btn{ justify-content: center; }
.firstrecap-body .mini-card__reward-actions--stack{ align-items: stretch; }
.firstrecap-body .mini-card__grant{ gap: 6px; }
.firstrecap-body .mini-card__reward-actions{ align-items:center; }
@media (max-width: 420px){
  .firstrecap-body .mini-card{ height: 320px; }
}
.firstrecap-body .mini-card.firstrecap-card--shown{
  display:flex;
}
.firstrecap-body .mini-card.firstrecap-card--active{
  border-color: rgba(0,184,148,.22);
  box-shadow: 0 16px 32px rgba(15,23,42,.10);
}
.firstrecap-body .mini-card.firstrecap-card--enter{
  /* Align with hall home animation rhythm */
  animation: hallCardSlideIn .52s cubic-bezier(.14,.92,.18,1) both;
}
.firstrecap-body .mini-card__k{
  font-size: 14px;
}
.firstrecap-body .mini-card__v{
  font-size: 18px;
  margin-top: 10px;
}
.firstrecap-body .mini-card__d{
  font-size: 13px;
}
.firstrecap-exit .btn{
  width: 100%;
}

@keyframes firstRecapCardIn{
  from{ opacity: 0; transform: translateY(8px); }
  to{ opacity: 1; transform: translateY(0); }
}

@keyframes firstRecapSlideIn{
  from{ opacity: 0; transform: translateX(26px); filter: saturate(1.02); }
  to{ opacity: 1; transform: translateX(0); filter: saturate(1); }
}

@keyframes hallCardSlideIn{
  from{ opacity: 0; transform: translateX(26px) scale(.96); }
  to{ opacity: 1; transform: translateX(0) scale(1); }
}

@keyframes openingRing{
  0%{ transform: scale(.98); filter: saturate(1); }
  50%{ transform: scale(1.02); filter: saturate(1.05); }
  100%{ transform: scale(.98); filter: saturate(1); }
}
@keyframes openingSpin{
  0%{ transform: rotate(0deg); }
  100%{ transform: rotate(360deg); }
}
@keyframes openingInner{
  0%{ transform: scale(.98); opacity: .75; }
  50%{ transform: scale(1.02); opacity: .95; }
  100%{ transform: scale(.98); opacity: .75; }
}
@keyframes openingAura{
  0%{ opacity: .72; transform: scale(.98); }
  50%{ opacity: .98; transform: scale(1.02); }
  100%{ opacity: .72; transform: scale(.98); }
}
@keyframes openingOrbit{
  0%{ transform: translate(-50%,-50%) rotate(0deg) translateX(var(--r,72px)) scale(.78); opacity: .60; }
  35%{ opacity: .95; }
  100%{ transform: translate(-50%,-50%) rotate(360deg) translateX(var(--r,72px)) scale(1); opacity: .60; }
}
@keyframes openingExit{
  from{ opacity: 1; transform: translateY(0); }
  to{ opacity: 0; transform: translateY(-8px); }
}
@media (prefers-reduced-motion: reduce){
  .opening__ring, .opening__spark, .opening__stage::after{ animation: none; }
  .opening__ring::before, .opening__ring::after{ animation: none; }
  .opening.opening--exit{ animation: none; }
}
